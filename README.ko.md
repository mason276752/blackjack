# 블랙잭 게임 (Blackjack Game)

**[English](./README.en.md) | [繁體中文](./README.md) | 한국어 | [Filipino](./README.fil.md)**

---

AI 자동 플레이, 다중 카드 카운팅 시스템, 전략 편차 힌트 및 포괄적인 규칙 커스터마이징을 갖춘 정교한 웹 기반 블랙잭 시뮬레이터입니다. React, TypeScript, Vite로 구축되었습니다.

## 라이브 데모

🎮 **[지금 플레이](https://mason276752.github.io/blackjack/)**

## 주요 기능

### 핵심 게임플레이
- **완전한 블랙잭 구현**: 히트, 스탠드, 더블 다운, 스플릿, 서렌더 옵션이 포함된 표준 블랙잭 게임플레이
- **커스터마이징 가능한 규칙**: 덱 수, 딜러 행동, 배당률 등을 포함한 광범위한 규칙 구성
- **다양한 규칙 프리셋**: 라스베이거스 스트립, 애틀랜틱 시티, 유럽 및 기타 지역 변형으로 빠른 설정
- **사실적인 딜러 AI**: 구성 가능한 히트/스탠드 규칙으로 실제 딜러 행동 시뮬레이션
- **보험 기능**: 딜러가 에이스를 보일 때 사용 가능, 수동 또는 자동 의사 결정

### 카드 카운팅 (5가지 시스템)
- **Hi-Lo** (균형 시스템, 초보자 친화적)
  - 페어링 전략: Illustrious 18 (18가지 주요 편차)
  - 베팅 상관관계: 0.97 | 플레이 효율성: 0.51
- **KO (Knock-Out)** (불균형 시스템)
  - 페어링 전략: KO Preferred (14가지 최적화된 편차)
  - 베팅 상관관계: 0.98 | 플레이 효율성: 0.55
- **Omega II** (고급 다단계 시스템)
  - 페어링 전략: Omega II Matrix (17가지 고급 인덱스)
  - 베팅 상관관계: 0.99 | 플레이 효율성: 0.67
- **Zen Count** (정밀 다단계 시스템)
  - 페어링 전략: Zen Indices (21가지 정밀 인덱스)
  - 베팅 상관관계: 0.96 | 플레이 효율성: 0.63
- **CAC2** (Catch And Count 2)
  - 페어링 전략: Catch 22 (22가지 전략 편차)
  - 베팅 상관관계: 0.98 | 플레이 효율성: 0.60

**하드락 시스템 페어링**: 각 카운팅 시스템은 최적의 정확도를 위해 전용 전략과 독점적으로 페어링됩니다

### 전략 편차 시스템
- **실시간 편차 힌트**: 트루 카운트/러닝 카운트를 기반으로 전략 편차 표시
- **인덱스 플레이 패널**: 현재 적용 가능한 전략 편차 표시 (예: "16 vs 10 Stand at TC+0")
- **지능형 결정 엔진**: AI가 시스템별 전략 편차를 자동으로 적용
- **시각적 가이드**: 색상 코드 편차 제안 (히트, 스탠드, 더블, 스플릿, 서렌더)

### AI 자동 플레이
- **지능형 의사 결정**: AI가 기본 전략 테이블 + 전략 편차를 사용하여 최적의 플레이 결정
- **동적 베팅 스프레드**: 트루 카운트를 기반으로 한 실용적인 1-12 유닛 베팅 스프레드
- **조정 가능한 속도**: 50ms에서 2000ms까지 구성 가능한 게임 속도
- **라이브 결정 표시**: AI의 각 행동에 대한 추론을 실시간으로 확인
- **통계 추적**: 플레이한 라운드, 결정 횟수, 평균 베팅 크기 모니터링
- **복구 메커니즘**: 자동 정지 감지 및 재시도 기능

### 전략 도우미
- **대화형 전략 테이블**:
  - 하드 토탈 (5-20 vs 딜러 2-A)
  - 소프트 토탈 (A-2부터 A-9 vs 딜러 2-A)
  - 페어 스플릿 (2-2부터 A-A vs 딜러 2-A)
- **시각적 하이라이트**: 전략 테이블에 현재 핸드 상황 강조 표시
- **액션 힌트**: 색상 코드 권장사항 (히트, 스탠드, 더블, 스플릿, 서렌더)
- **수동 탭 제어**: 하드/소프트/페어 탭은 자동 전환되지 않으며 사용자가 제어

### 사용자 인터페이스
- **3단 레이아웃**: 전략 테이블 (왼쪽 520px), 게임 영역 (중앙), 규칙 패널 (오른쪽 400px)
- **반응형 디자인**: 데스크톱 및 태블릿 보기에 최적화
- **4개 언어 지원**: 완전한 영어, 번체 중국어, 한국어, 필리핀어 현지화
- **카드 스프라이트**: 무늬와 숫자가 표시된 시각적 카드 표현
- **통계 대시보드**: 자금, 플레이한 핸드, 승률 등 추적

## 기술 스택

- **React 18.2**: 훅과 컨텍스트를 사용하는 최신 React
- **TypeScript 5.2**: 코드베이스 전체에 걸친 완전한 타입 안전성
- **Vite 5.2**: 빠른 개발 및 최적화된 프로덕션 빌드
- **i18next**: 언어 감지 기능이 있는 국제화
- **ESLint**: 코드 품질 및 일관성

## 빠른 시작

### 사전 요구 사항
- Node.js 16+
- npm 또는 yarn

### 설치

```bash
# 리포지토리 클론
git clone https://github.com/mason276752/blackjack.git
cd blackjack

# 의존성 설치
npm install

# 개발 서버 시작
npm run dev
```

애플리케이션은 `http://localhost:5173`에서 사용할 수 있습니다

### 프로덕션 빌드

```bash
npm run build
```

### 프로덕션 빌드 미리보기

```bash
npm run preview
```

### 테스트 실행

```bash
npm test
```

## 사용 방법

### 수동 플레이

1. **규칙 구성** (선택 사항): 기어 아이콘을 클릭하여 게임 규칙을 커스터마이징하거나 프리셋 선택
2. **카운팅 시스템 선택** (선택 사항): 헤더에서 선호하는 카드 카운팅 시스템 선택
3. **베팅 배치**: 칩 버튼을 사용하여 베팅 배치
4. **카드 딜**: "Deal Cards"를 클릭하여 라운드 시작
5. **결정 내리기**: 전략에 따라 액션 버튼 사용 (히트, 스탠드, 더블, 스플릿, 서렌더)
6. **전략 힌트 보기**: 왼쪽의 전략 테이블에서 최적의 플레이 권장사항 확인
7. **카운트 추적**: 헤더에서 러닝 카운트와 트루 카운트 모니터링
8. **전략 편차**: 카운트가 임계값에 도달하면 중앙 힌트 박스에 편차 제안 표시

### AI 자동 플레이

1. **AI 시작**: AI 컨트롤 패널에서 "Play" 버튼 (▶) 클릭
2. **속도 조정**: 슬라이더를 사용하여 게임 속도 제어 (50-2000ms)
3. **결정 모니터링**: AI의 추론과 통계를 실시간으로 확인
4. **일시정지/재개**: "Pause" (⏸)를 클릭하여 일시정지, 다시 "Play"를 클릭하여 재개
5. **AI 중지**: "Stop" (⏹)을 클릭하여 완전히 중지하고 AI 통계 재설정
6. **오류 시 재시도**: AI가 멈추면 오류 표시에서 "Retry" 버튼 클릭

## 게임 규칙

### 기본 구성
- **덱**: 6덱
- **딜러**: 소프트 17에서 스탠드 (S17)
- **블랙잭 배당**: 3:2
- **더블**: 모든 두 카드
- **스플릿 후 더블**: 허용
- **리스플릿**: 최대 3회 (총 4핸드)
- **에이스 리스플릿**: 불허
- **스플릿 에이스에 히트**: 불허
- **레이트 서렌더**: 허용
- **보험**: 딜러가 에이스를 보일 때 사용 가능
- **페네트레이션**: 75% (1.5덱 남았을 때 재셔플)
- **시작 잔액**: $25,000
- **최소 베팅**: $25
- **최대 베팅**: $5,000

## 카드 카운팅 시스템 및 전략 편차

### Hi-Lo + Illustrious 18 (초보자에게 권장)
**카드 값**:
- **낮은 카드 (2-6)**: +1
- **중립 (7-9)**: 0
- **높은 카드 (10-A)**: -1

**시스템 특성**:
- **유형**: 균형 시스템, 트루 카운트 변환 필요
- **장점**: 배우기 쉽고 효과적
- **베팅 상관관계**: 0.97
- **플레이 효율성**: 0.51

**전략 편차**: Illustrious 18 (18가지 주요 편차)
- 보험: TC >= +3
- 16 vs 10 서렌더: TC >= 0
- 15 vs 10 스탠드: TC >= +4
- ... (총 18가지 편차)

### KO + KO Preferred (트루 카운트 변환 불필요)
**카드 값**:
- **낮은 카드 (2-7)**: +1
- **중립 (8-9)**: 0
- **높은 카드 (10-A)**: -1

**시스템 특성**:
- **유형**: 불균형 시스템, 트루 카운트 불필요
- **장점**: Hi-Lo보다 간단, 남은 덱 추적 불필요
- **베팅 상관관계**: 0.98
- **플레이 효율성**: 0.55

**전략 편차**: KO Preferred (14가지 최적화된 편차)
- 보험: RC >= +3
- 16 vs 10 스탠드: 키 카운트 (-4) 이상
- 12 vs 4/5/6 히트: IRC (-20) 이하
- ... (총 14가지 편차)

### Omega II + Omega II Matrix (고급 다단계 시스템)
**카드 값**:
- **+2 카드 (4, 5)**: +2
- **+1 카드 (2, 3, 7)**: +1
- **중립 (8, 9, A)**: 0
- **-1 카드 (9)**: -1
- **-2 카드 (10, J, Q, K)**: -2

**시스템 특성**:
- **유형**: 균형 다단계 시스템
- **장점**: 이론적으로 가장 높은 정확도
- **단점**: 더 복잡하고 더 많은 연습 필요
- **베팅 상관관계**: 0.99
- **플레이 효율성**: 0.67

**전략 편차**: Omega II Matrix (17가지 고급 인덱스)
- 보험: TC >= +6 (Hi-Lo의 약 2배)
- 16 vs 10 스탠드: TC >= 0
- 10 vs 10 더블: TC >= +9
- ... (총 17가지 편차)

### Zen Count + Zen Indices (정밀 다단계 시스템)
**카드 값**:
- **+2 카드 (4, 5, 6)**: +2
- **+1 카드 (2, 3, 7)**: +1
- **중립 (8, 9)**: 0
- **-1 카드 (A)**: -1
- **-2 카드 (10, J, Q, K)**: -2

**시스템 특성**:
- **유형**: 균형 다단계 시스템
- **장점**: 정밀도와 복잡성의 균형이 잘 잡힘
- **베팅 상관관계**: 0.96
- **플레이 효율성**: 0.63

**전략 편차**: Zen Indices (21가지 정밀 인덱스)
- 보험: TC >= +3
- 16 vs 10 스탠드: TC >= 0
- 11 vs A 더블: TC >= +1
- ... (총 21가지 편차)

### CAC2 + Catch 22 (Catch And Count 2)
**카드 값**:
- **+2 카드 (3, 4, 5)**: +2
- **+1 카드 (2, 6, 7)**: +1
- **중립 (8, 9)**: 0
- **-1 카드 (A)**: -1
- **-2 카드 (10, J, Q, K)**: -2

**시스템 특성**:
- **유형**: 균형 다단계 시스템
- **장점**: 22가지 편차로 포괄적인 커버리지 제공
- **베팅 상관관계**: 0.98
- **플레이 효율성**: 0.60

**전략 편차**: Catch 22 (22가지 전략 편차)
- 보험: TC >= +3
- 16 vs 10 스탠드: TC >= 0
- 소프트 19 vs 5/6 더블: TC >= +2/+1
- 8 vs 5/6 더블: TC >= +3
- ... (총 22가지 편차)

## 🌍 다국어 지원 (i18n)

### 지원 언어
- **English** (영어)
- **繁體中文** (번체 중국어)
- **한국어** (Korean)
- **Filipino** (필리핀어)

### 기술 구현
- **i18next**: 완전한 국제화 프레임워크
- **언어 감지**: 자동 브라우저 언어 감지
- **영속성**: localStorage에 저장된 언어 선택
- **네임스페이스 분리**:
  - `common`: 공유 UI 텍스트
  - `game`: 게임 용어
  - `actions`: 액션 버튼
  - `strategy`: 전략 테이블 레이블
  - `stats`: 통계 레이블
  - `count`: 카드 카운팅 시스템 이름
  - `hand`: 핸드 상태
  - `betting`: 베팅 UI
  - `rules`: 규칙 구성
  - `ai`: AI 컨트롤 패널

### 언어 전환
헤더 오른쪽 상단의 언어 전환기 사용:
- 🇬🇧 English
- 🇹🇼 繁體中文
- 🇰🇷 한국어
- 🇵🇭 Filipino

## 브라우저 지원

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

## 문제 해결

### AI 플레이 중지
- AI에는 내장 정지 감지 기능이 있습니다 (10초 타임아웃)
- 감지되면 "Retry" 버튼이 있는 오류 메시지가 표시됩니다
- 문제가 지속되면 "Stop"을 클릭한 다음 "Play"를 클릭하여 재시작

### 통계 업데이트 안 됨
- 베팅 단계가 아닌지 확인 (통계는 핸드 해결 후 업데이트)
- 브라우저 콘솔에서 오류 확인

### 전략 테이블 하이라이트 안 됨
- player_turn 단계인지 확인
- 현재 핸드에 유효한 카드가 있는지 확인

### 보험 거부 불가
- "Decline" 버튼 (✕ 버튼)을 클릭해야 합니다
- 거부 후 `insuranceBet`이 -1로 설정됩니다 (거부 상태)

## 개발 및 배포

### GitHub Actions CI/CD
이 프로젝트는 GitHub Pages에 자동 배포를 위해 GitHub Actions를 사용합니다:
- 테스트 스위트 자동 실행
- 프로덕션 버전 빌드
- GitHub Pages에 배포

### 로컬 개발
```bash
# 개발 모드 (핫 리로드)
npm run dev

# 타입 검사
npm run type-check

# Lint 검사
npm run lint

# 테스트 실행
npm test

# 프로덕션 빌드
npm run build
```

## 기여

이것은 개인 프로젝트이지만 제안과 피드백은 환영합니다.

## 라이선스

MIT License - 자세한 내용은 LICENSE 파일 참조

## 감사의 말

- Edward Thorp의 수학적 분석을 기반으로 한 기본 전략 테이블
- "Beat the Dealer" 및 기타 블랙잭 문헌의 카드 카운팅 시스템
- Don Schlesinger가 개발한 Illustrious 18
- "Knock-Out Blackjack"의 KO 시스템
- Bryce Carlson이 개발한 Omega II
- Arnold Snyder가 개발한 Zen Count
- 현대 카지노 게임 인터페이스에서 영감을 받은 UI 디자인
- 공개 리소스의 카드 스프라이트

## 버전 히스토리

### v2.0.0 (현재)
- ✅ 5가지 카드 카운팅 시스템 (Hi-Lo, KO, Omega II, Zen Count, CAC2)
- ✅ 시스템-전략 하드락 (강제 페어링)
- ✅ 실시간 전략 편차 힌트
- ✅ 인덱스 플레이 패널
- ✅ 4개 언어 지원 (영어, 번체 중국어, 한국어, 필리핀어)
- ✅ 전략 테이블 수동 탭 제어 (자동 전환 제거)
- ✅ 딜러 핸드 너비 최적화 (플레이어와 일관성)
- ✅ 보험 거부 수정 (-1 상태 플래그)
- ✅ 전략 힌트 높이 증가 (170px)

### v1.0.0
- ✅ 완전한 블랙잭 게임 구현
- ✅ AI 자동 플레이 시스템
- ✅ 3가지 카드 카운팅 시스템 (Hi-Lo, KO, Omega II)
- ✅ 대화형 전략 테이블
- ✅ 2개 언어 지원 (번체 중국어, 영어)
- ✅ 보험 기능
- ✅ 플레이어 불리한 반올림 규칙
- ✅ GitHub Pages 자동 배포
- ✅ 포괄적인 테스트 커버리지 (104개 테스트)

---

**개발자**: Mason
**프로젝트 링크**: [GitHub Repository](https://github.com/mason276752/blackjack)
**라이브 데모**: [Play Now](https://mason276752.github.io/blackjack/)
